<html lang="ko">

<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-172922047-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-172922047-1');
</script>
<meta charset="utf-8">
<title>걸카페건 등급표 ver0.2</title>
<link rel="stylesheet" type="text/css" href="style.css">
<script src = "https://code.jquery.com/jquery-3.1.1.js"></script>
<script src = "db.js"></script> 
</head>

<body>
	<div id = "chart">
		<div class = "category">
			<div class = "header"> SS등급 </div>
			<div class = "content"></div>
		</div>
		<div class = "category">
			<div class = "header"> S등급 </div>
			<div class = "content"></div>
		</div>
		<div class = "category">
			<div class = "header"> A등급 </div>
			<div class = "content"></div>
		</div>
		<div class = "category">
			<div class = "header"> B등급 </div>
			<div class = "content"></div>
		</div>
	</div>

	<div id = "sidebar"> 
		<button id = "show_all" class = "btn">모두 보기</button> 
		<button id = "show_only_on" class = "btn">등장 캐릭터만 보기</button>
		<button id = "machine_only" class = "btn">기계 속성 캐릭터</button>
		<button id = "life_only" class = "btn">생체 속성 캐릭터</button>
		<button id = "spirit_only" class = "btn">영능 속성 캐릭터</button>
		<button id = "quarantine_only" class = "btn">방역 속성 캐릭터</button>
		<button id = "erode_only" class = "btn">침식 속성 캐릭터</button>
<!-- 		<button id = "shotgun" class = "btn">침식 속성 캐릭터</button>
		<button id = "erode_only" class = "btn">침식 속성 캐릭터</button>
		<button id = "erode_only" class = "btn">침식 속성 캐릭터</button>
		<button id = "erode_only" class = "btn">침식 속성 캐릭터</button>
		<button id = "erode_only" class = "btn">침식 속성 캐릭터</button> -->
	</div>

	<script>
		function createDiv(str, cname){
			var div = document.createElement('div');
			div.innerHTML = str;
			div.className = cname;
			return div;
		};

		function createLink(address){
			var temp = document.createElement('a');
			temp.href = address;
			return temp;
		}

		function createImage(address, cname){
			var temp = document.createElement('img');
			temp.src = address;
			temp.className = cname;
			return temp;
		}

		var content = document.getElementsByClassName("content");

		var wrapper = [];
		var link = [];
		var border = [];
		var image = [];
		var box_opacity = [];
		var info = [];
		var attr = [];
		var weapon = [];
		var tactic = [];
		var text = [];

		for(var i = 0; i < 4; i++){

			for(var j in character){
				if(character[j].rank == i+1){
					wrapper[j] = createDiv('', 'wrapper');
					link[j] = createLink(character[j].guide);
					border[j] = createDiv('', 'border');
					border[j].style.border = "5pt solid " + character[j].rarity;
					image[j] = createImage(character[j].picture, 'ch_img');
					box_opacity[j] = createDiv('', 'box_opacity');
					box_opacity[j].style.opacity = character[j].appear;
					info[j] = createDiv('', 'info');
					attr[j] = createImage(character[j].attr, 'attr');
					weapon[j] = createImage(character[j].weapon, 'weapon');
					tactic[j] = createImage(character[j].tactic, 'tactic');
					text[j] = createDiv(character[j].class + "<br>" + character[j].name, 'text');

					content[i].appendChild(wrapper[j]);
						wrapper[j].appendChild(link[j]);
							link[j].appendChild(border[j]);
								border[j].appendChild(image[j]);
								border[j].appendChild(box_opacity[j]);
								border[j].appendChild(info[j]);
									info[j].appendChild(attr[j]);
									info[j].appendChild(weapon[j]);
									info[j].appendChild(tactic[j]);
						wrapper[j].appendChild(text[j]);
				}
			}
		}
		var btn_appear = 1;

		var btn = document.getElementById('show_only_on');
		btn.addEventListener("click", function(){
			btn_appear = 0;
			for(var i in character){
				if (character[i].appear == off){
					$(wrapper[i]).hide("normal");
				}
			}
		});

		var btn = document.getElementById('show_all');
		btn.addEventListener("click", function(){
			btn_appear = 1;
			for(var i in character){
				$(wrapper[i]).show("normal");
			}
		});

		var btn = document.getElementById('machine_only');
		btn.addEventListener("click", function(){
			for(var i in character){
				if (character[i].attr != machine)
					$(wrapper[i]).hide("normal");
				if (btn_appear == 1 && character[i].attr == machine)
					$(wrapper[i]).show("normal");
				if (btn_appear == 0 && character[i].attr == machine && character[i].appear == on)
					$(wrapper[i]).show("normal");
			}
		})

		var btn = document.getElementById('life_only');
		btn.addEventListener("click", function(){
			for(var i in character){
				if (character[i].attr != life)
					$(wrapper[i]).hide("normal");
				if (btn_appear == 1 && character[i].attr == life)
					$(wrapper[i]).show("normal");
				if (btn_appear == 0 && character[i].attr == life && character[i].appear == on)
					$(wrapper[i]).show("normal");
			}
		})

		var btn = document.getElementById('spirit_only');
		btn.addEventListener("click", function(){
			for(var i in character){
				if (character[i].attr != spirit)
					$(wrapper[i]).hide("normal");
				if (btn_appear == 1 && character[i].attr == spirit)
					$(wrapper[i]).show("normal");
				if (btn_appear == 0 && character[i].attr == spirit && character[i].appear == on)
					$(wrapper[i]).show("normal");
			}
		})

		var btn = document.getElementById('quarantine_only');
		btn.addEventListener("click", function(){
			for(var i in character){
				if (character[i].attr != quarantine)
					$(wrapper[i]).hide("normal");
				if (btn_appear == 1 && character[i].attr == quarantine)
					$(wrapper[i]).show("normal");
				if (btn_appear == 0 && character[i].attr == quarantine && character[i].appear == on)
					$(wrapper[i]).show("normal");
			}
		})

		var btn = document.getElementById('erode_only');
		btn.addEventListener("click", function(){
			for(var i in character){
				if (character[i].attr != erode)
					$(wrapper[i]).hide("normal");
				if (btn_appear == 1 && character[i].attr == erode)
					$(wrapper[i]).show("normal");
				if (btn_appear == 0 && character[i].attr == erode && character[i].appear == on)
					$(wrapper[i]).show("normal");
			}
		})

	</script>

</body>


</html>
